<!DOCTYPE html>
<html>
    <head>
        <title>National Parks</title>
<!-- <h1 style="font-size:15px;">National Parks and Top 10 </h1> -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
        integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
        crossorigin=""/>

        <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
        integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
        crossorigin=""></script>

        <style type="text/css">
          html, body { margin: 0; padding: 0; height: 100%; }
          #map { min-height: 100%; }
        </style>
        <script type="text/javascript" src="data.js"></script>

      <style>
      .info {
          padding: 6px 8px;
          font: 14px/16px Arial, Helvetica, sans-serif;
          background: white;
          background: rgba(255,255,255,0.8);
          box-shadow: 0 0 15px rgba(0,0,0,0.2);
          border-radius: 5px;
          width: 400px;
      }
      .info h4 {
          margin: 0 0 5px;
          color: #777;
      }
      </style>
    </head>

    <body>
        <div id="map"></div>

        <script type="text/javascript">
        var map = L.map('map', {
          center: [39.9052228,-93.2641468],
          zoom: 5
      });
      var imagery = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
  attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
  maxZoom: 10,
  minZoom: 4,
  id: 'mapbox.satellite',
  accessToken: 'pk.eyJ1IjoiZGF0c3N1bWJlZXMiLCJhIjoiY2psem5tNGk0MDIyYzN2cjVnYnB3YnFkMyJ9.ZCY1UVD8tTaeUoCNU3ZvBg'
                 }).addTo(map);
                 var canvas = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
                   attribution: 'Map data © OpenStreetMap contributors, CC-BY-SA, Imagery © Mapbox',
                   maxZoom: 10,
                   minZoom: 4,
                   id: 'mapbox.streets-satellite',
                   accessToken:'pk.eyJ1IjoiY3VyZW1hbmdvIiwiYSI6ImNpcTQ4cGFwbDAxbmVmd25vZGNiOTVzeGEifQ.GWZByYkIft6eMRha69C8nw'
                 });


           var Top = L.geoJson(data, {style:style}).addTo(map);
           function getColor(value) {
                       return value > 46  ? '#05ea16':
                              value > 45  ? '#dd3497':
                              value > 44  ? '#05ea16':
                              value > 43 ? '#05ea16':
                              value > 42  ? '#05ea16':
                              value > 41  ? '#05ea16':
                              value > 40  ? '#05ea16':
                              value > 39  ? '#05ea16':
                              value > 38  ? '#05ea16':
                              value > 37  ? '#05ea16':
                              value > 36  ? '#05ea16':
                              value > 35  ? '#05ea16':
                              value > 34  ? '#05ea16':
                              value > 33  ? '#05ea16':
                              value > 32  ? '#05ea16':
                              value > 31  ? '#05ea16':
                              value > 30  ? '#05ea16':
                              value > 29  ? '#05ea16':
                              value > 28  ? '#05ea16':
                              value > 27  ? '#05ea16':
                              value > 26 ? '#dd3497':
                              value > 25  ? '#05ea16':
                              value > 24  ? '#05ea16':
                              value > 23  ? '#05ea16':
                              value > 22  ? '#05ea16':
                              value > 21  ? '#05ea16':
                              value > 20  ? '#dd3497':
                              value > 19  ? '#05ea16':
                              value > 18  ? '#05ea16':
                              value > 17  ? '#05ea16':
                              value > 16  ? '#05ea16':
                              value > 15  ? '#05ea16':
                              value > 14  ? '#dd3497':
                              value > 13  ? '#05ea16':
                              value > 12  ? '#05ea16':
                              value > 11  ? '#dd3497':
                              value > 10  ? '#05ea16':
                              value > 9  ? '#05ea16':
                              value > 8  ? '#dd3497':
                              value > 7  ? '#dd3497':
                              value > 6  ? '#dd3497':
                              value > 5  ? '#dd3497':
                              value > 4  ? '#dd3497':
                              value > 3  ? '#dd3497':
                              value > 2  ? '#05ea16':
                                           '#dd3497';
                   }

       function style(feature){
           return {
               fillColor: getColor(feature.properties.id),   // pop_den is the field name for the population density data
               weight: 2,
               opacity: 1,
               color: 'gray',
               fillOpacity: 0.9
           };
       }

       function highlightFeature(e) {
           // Get access to the feature that was hovered through e.target
           var layer = e.target;

           // Set a thick grey border on the feature when as mouseover effect
           // Adjust the values below to change the highlighting styles of features on mouseover
           // Check out https://leafletjs.com/reference-1.3.4.html#path for more options for changing style
           layer.setStyle({
               weight: 5,
               color: '#666',
               fillOpacity: 0.7
           });
           info.update(layer.feature.properties);
           // Bring the highlighted feature to front so that the border doesn’t clash with nearby states
           // But not for IE, Opera or Edge, since they have problems doing bringToFront on mouseover
           if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
               layer.bringToFront();
           }
       }

       var geojson; // define a variable to make the geojson layer accessible for the funtion to use

       function resetHighlight(e) {
           geojson.resetStyle(e.target);
           info.update();
       }


       function onEachFeature(feature, layer) {
           layer.on({
               mouseover: highlightFeature, // Do what defined by the highlightFeature function on mouseover
               mouseout: resetHighlight,    // Do what defined by the resetHighlight function on mouseout
           });
       }

       geojson = L.geoJson(data, {
           style:style,
           onEachFeature: onEachFeature
       }).addTo(map);


       var info = L.control();

       info.onAdd = function (map) {
           this._div = L.DomUtil.create('div', 'info'); // create a div with a class "info"
           this.update();
           return this._div;
       };

       // method that we will use to update the control based on feature properties passed
       info.update = function (props) {
           this._div.innerHTML = '<h4>National Parks</h4>' +  (props ?
               '<b>' + props.UNIT_NAME + '</b><br />' + props.IMAGE + ' '+ '<p style="color:Deeppink;">' + props.INFO + '</p>'
               : 'Hover over a state');
       };

       info.addTo(map);


          var basemaps = {
          "Satellite Imagery": imagery,
          "Satellite Image with States": canvas

      };
      //     var overlaymaps = {
      //     "Top 10 Biggest National Parks": Top
      // };
       L.control.layers(basemaps, ).addTo(map);

       </script>
   </body>
</html>
